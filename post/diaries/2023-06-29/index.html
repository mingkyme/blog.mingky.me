<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=ko><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>status에 대한 이해 - MINGKYME 블로그</title><meta name=theme-color><meta name=description content="Done List Home Bridge 구현완료 Status Code 304 Status Code 413 To Do List None Memo Home Bridge 기존에 Home Assistant 이용해서 사용을 했지만 만족스럽지 못해 직접 구현해서 사용하고 있었다.
하지만 Home Bridge 라는 녀석은 단순히 애플 홈킷에 등록하기 위한 브릿지로 내가 필요한 기능만 존재하여 이번에 설치하였다.
플러그인들이 많이 존재해서 Switch bot 사의 기기들을 다 연동을 시켰다.
Status Code 304 (Not Modified) 업무 중 내가 유지보수하고 있는 프로그램에서 etag와 last-modified 헤더가 존재하지 않아 불편하다는 문의가 나왔다."><meta name=author content="MINGKYME"><link rel="preload stylesheet" as=style href=https://blog.mingky.me/main.min.css><script defer src=https://blog.mingky.me/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://blog.mingky.me/theme.png><link rel=preload as=image href="https://www.gravatar.com/avatar/dd549fcc49ccfe7970c3f796850bccf7?s=160&amp;d=identicon"><link rel=preload as=image href=https://blog.mingky.me/github.svg><link rel=preload as=image href=https://blog.mingky.me/instagram.svg><link rel=icon href=https://blog.mingky.me/favicon.ico><link rel=apple-touch-icon href=https://blog.mingky.me/apple-touch-icon.png><meta name=generator content="Hugo 0.113.0"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-JXMPBB9GZR","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JXMPBB9GZR"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JXMPBB9GZR",{anonymize_ip:!1})}</script><meta property="og:title" content="status에 대한 이해"><meta property="og:description" content="Done List Home Bridge 구현완료 Status Code 304 Status Code 413 To Do List None Memo Home Bridge 기존에 Home Assistant 이용해서 사용을 했지만 만족스럽지 못해 직접 구현해서 사용하고 있었다.
하지만 Home Bridge 라는 녀석은 단순히 애플 홈킷에 등록하기 위한 브릿지로 내가 필요한 기능만 존재하여 이번에 설치하였다.
플러그인들이 많이 존재해서 Switch bot 사의 기기들을 다 연동을 시켰다.
Status Code 304 (Not Modified) 업무 중 내가 유지보수하고 있는 프로그램에서 etag와 last-modified 헤더가 존재하지 않아 불편하다는 문의가 나왔다."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.mingky.me/post/diaries/2023-06-29/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-06-29T22:07:20+09:00"><meta property="article:modified_time" content="2023-06-29T22:07:20+09:00"><meta itemprop=name content="status에 대한 이해"><meta itemprop=description content="Done List Home Bridge 구현완료 Status Code 304 Status Code 413 To Do List None Memo Home Bridge 기존에 Home Assistant 이용해서 사용을 했지만 만족스럽지 못해 직접 구현해서 사용하고 있었다.
하지만 Home Bridge 라는 녀석은 단순히 애플 홈킷에 등록하기 위한 브릿지로 내가 필요한 기능만 존재하여 이번에 설치하였다.
플러그인들이 많이 존재해서 Switch bot 사의 기기들을 다 연동을 시켰다.
Status Code 304 (Not Modified) 업무 중 내가 유지보수하고 있는 프로그램에서 etag와 last-modified 헤더가 존재하지 않아 불편하다는 문의가 나왔다."><meta itemprop=datePublished content="2023-06-29T22:07:20+09:00"><meta itemprop=dateModified content="2023-06-29T22:07:20+09:00"><meta itemprop=wordCount content="229"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="status에 대한 이해"><meta name=twitter:description content="Done List Home Bridge 구현완료 Status Code 304 Status Code 413 To Do List None Memo Home Bridge 기존에 Home Assistant 이용해서 사용을 했지만 만족스럽지 못해 직접 구현해서 사용하고 있었다.
하지만 Home Bridge 라는 녀석은 단순히 애플 홈킷에 등록하기 위한 브릿지로 내가 필요한 기능만 존재하여 이번에 설치하였다.
플러그인들이 많이 존재해서 Switch bot 사의 기기들을 다 연동을 시켰다.
Status Code 304 (Not Modified) 업무 중 내가 유지보수하고 있는 프로그램에서 etag와 last-modified 헤더가 존재하지 않아 불편하다는 문의가 나왔다."><script>(function(){var t,e=window;if(e.ChannelIO)return e.console.error("ChannelIO script included twice.");t=function(){t.c(arguments)},t.q=[],t.c=function(e){t.q.push(e)},e.ChannelIO=t;function n(){if(e.ChannelIOInitialized)return;e.ChannelIOInitialized=!0;var n,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://cdn.channel.io/plugin/ch-plugin-web.js",n=document.getElementsByTagName("script")[0],n.parentNode&&n.parentNode.insertBefore(t,n)}document.readyState==="complete"?n():(e.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))})(),ChannelIO("boot",{pluginKey:"255599eb-3a0f-411d-8537-e5ecb986b3bb"})</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5510947922469629" crossorigin=anonymous></script></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold" href=https://blog.mingky.me/>MINGKYME 블로그</a><div class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6"><a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/categories/>카테고리</a></nav><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"><a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/mingkyme target=_blank rel=me>github</a>
<a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/food_mingky target=_blank rel=me>instagram</a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pb-24 pt-16 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">status에 대한 이해</h1><div class="text-sm opacity-60"><time>2023. 6. 29.</time></div></header><section><h2 id=done-list>Done List</h2><ul><li>Home Bridge 구현완료</li><li>Status Code 304</li><li>Status Code 413</li></ul><h2 id=to-do-list>To Do List</h2><ul><li>None</li></ul><h2 id=memo>Memo</h2><h3 id=home-bridge>Home Bridge</h3><p>기존에 Home Assistant 이용해서 사용을 했지만 만족스럽지 못해 직접 구현해서 사용하고 있었다.</p><p>하지만 Home Bridge 라는 녀석은 단순히 애플 홈킷에 등록하기 위한 브릿지로 내가 필요한 기능만 존재하여 이번에 설치하였다.</p><p>플러그인들이 많이 존재해서 Switch bot 사의 기기들을 다 연동을 시켰다.</p><h3 id=status-code-304-not-modified>Status Code 304 (Not Modified)</h3><p>업무 중 내가 유지보수하고 있는 프로그램에서 etag와 last-modified 헤더가 존재하지 않아 불편하다는 문의가 나왔다.</p><p>해당 문의를 해결하기 위해 etag와 last-modified가 어떻게 동작하는지 확인하고 해결책을 고민했다.</p><p>일단 동작방식은 다음과 같다.</p><ul><li>컨텐츠를 받았을 때, etag를 받았다면, If-Match 라는 헤더를 붙혀서 컨텐츠가 변경 됐는지 확인한다.</li><li>컨텐츠를 받았을 때, last-modified를 받았다면, If-Modified-Since 라는 헤더를 붙혀서 컨텐츠가 변경 됐는지 확인한다.</li></ul><p>이러한 헤더를 주고 받을 때 이점으로는</p><p>만약 If-Match, If-Modified-Since 중에서 하나라도 만족을 한다면</p><p>서버는 body에 값을 보내지 않고, 304 (Not Modified) 를 보내 데이터를 절약시킨다.</p><h3 id=status-code-413-request-entity-too-large>Status Code 413 (Request Entity Too Large)</h3><p>이 경우는 나의 개인 프로젝트로 만들어진 webftp.mingky.me 사용하다가 문제가 발생했다.</p><p>user 입장에서는 단순 다운로드 기능만 제공되기 때문에 경험할 일 없지만 로그인 후엔 파일을 업로드 할 수 있다.</p><p>파일을 업로드하여 쉽게 배포하겠다는 개념으로 만들었는데 사용자에게 노출되지 않는다는 이유로 수정이 늦어졌던 사항이다.</p><p>해당 이슈는 nginx의 기본 값이 1m 까지만 받아주는 걸로 돼 있다.</p><pre tabindex=0><code>server {
    listen 443 ssl;
    server_name webftp.mingky.me;
    ssl_protocols TLSv1.1 TLSv1.2;
    client_max_body_size 100m;
    location / {
        proxy_pass http://localhost;
    }
}
</code></pre><p>해당 nginx config 처럼 client_max_body_size를 100m 로 수정하여 이슈를 해결했다.</p></section><nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]"><a class="flex w-1/2 items-center rounded-l-md p-6 pr-3 no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]" href=https://blog.mingky.me/post/diaries/2023-07-04/><span class=mr-1.5>←</span><span>TTFB(Time to First Byte)</span></a>
<a class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]" href=https://blog.mingky.me/post/diaries/2023-06-28/><span>HTTP 통신할 때, Status는 언제 결정 될까?</span><span class=ml-1.5>→</span></a></nav><div class=mt-24 id=disqus_thread></div><script>const disqusShortname="mingkyme",script=document.createElement("script");script.src="https://"+disqusShortname+".disqus.com/embed.js",script.setAttribute("data-timestamp",+new Date),document.head.appendChild(script)</script></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://blog.mingky.me/>MINGKYME 블로그</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Theme Paper</a></footer></body></html>