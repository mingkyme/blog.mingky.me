<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Nginx on MINGKYME 블로그</title><link>https://blog.mingky.me/categories/nginx/</link><description>Recent content in Nginx on MINGKYME 블로그</description><generator>Hugo -- gohugo.io</generator><language>ko</language><lastBuildDate>Sat, 12 Aug 2023 10:21:27 +0900</lastBuildDate><atom:link href="https://blog.mingky.me/categories/nginx/index.xml" rel="self" type="application/rss+xml"/><item><title>nginx 에서 SSL 인증서를 여러개 설정하는 방법</title><link>https://blog.mingky.me/post/nginx/2023-08-12/</link><pubDate>Sat, 12 Aug 2023 10:21:27 +0900</pubDate><guid>https://blog.mingky.me/post/nginx/2023-08-12/</guid><description>AWS CloudFlare에서는 cloudflare.net 과 개인이 사용하는 도메인의 인증서를 모두 지원한다.
내가 아는 안에서는 nginx는 1개의 인증서파일을 지원하는 것으로 알고 있었는데, 궁금증이 생겼다.
구글링 해본 결과, map을 이용해서 인증서를 갈이끼울수 있다.
map $ssl_preread_server_name $certificate { default example.com; www.example01.com example01.com; www.example02.com example02.com; } 기존에 사용하는 $host는 TLS Handshake 과정 이후에 값이 생긴다.
이럴 땐 변수 $ssl_preread_server_name 을 이용해서 Host의 값을 확인하여, 값을 바꿔끼워준다.</description></item><item><title>nginx update</title><link>https://blog.mingky.me/post/nginx/2023-06-21/</link><pubDate>Wed, 21 Jun 2023 05:07:29 +0900</pubDate><guid>https://blog.mingky.me/post/nginx/2023-06-21/</guid><description>현재버전은 nginx version: nginx/1.18.0 (Ubuntu) 이다.
ssl_reject_handshake on; SSL이 host와 맞지 않으면 연결을 거부하는 설정이다.
해당 설정은 1.20 부터 지원하는 기능이라 내가 사용하는 버전에서는 지원되지 않아 업데이트를 결정했다.
sudo echo &amp;#34;deb http://nginx.org/packages/ubuntu `lsb_release -cs` nginx&amp;#34; | sudo tee /etc/apt/sources.list.d/nginx.list curl -fsSL https://nginx.org/keys/nginx_signing.key | sudo apt-key add - sudo apt update sudo apt install nginx 새 버전은 nginx version: nginx/1.24.0</description></item></channel></rss>